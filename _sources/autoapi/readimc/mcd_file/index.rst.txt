readimc.mcd_file
================

.. py:module:: readimc.mcd_file


Classes
-------

.. autoapisummary::

   readimc.mcd_file.MCDFile


Module Contents
---------------

.. py:class:: MCDFile(path)

   Bases: :py:obj:`readimc.imc_file.IMCFile`


   A class for reading IMC .mcd files

   :param path: path to the IMC .mcd file


   .. py:property:: schema_xml
      :type: str


      Full metadata in proprietary XML format



   .. py:property:: metadata
      :type: str


      Legacy accessor for `schema_xml`



   .. py:property:: slides
      :type: Sequence[readimc.data.Slide]


      Metadata on slides contained in this IMC .mcd file



   .. py:method:: open()

      Opens the IMC .mcd file for reading.

      It is good practice to use context managers whenever possible:

      .. code-block:: python

          with MCDFile("/path/to/file.mcd") as f:
              pass




   .. py:method:: close()

      Closes the IMC .mcd file.

      It is good practice to use context managers whenever possible:

      .. code-block:: python

          with MCDFile("/path/to/file.mcd") as f:
              pass




   .. py:method:: read_acquisition(acquisition = None, strict = True, channels = None, region = None, create_temp_file = None)

      Reads IMC acquisition data as a numpy array with optional
      memory-mapping and/or subsetting.

      :param acquisition: The acquisition to read.
      :param strict: If True, raises errors for inconsistencies; otherwise,
      warns and recovers.
      :param channels: List of channel indices to load (zero-based).
      :param region: Tuple (x_min, y_min, x_max, y_max) to subset the image region.
      :param create_temp_file: Directory to store a temporary file (if provided,
      memory-mapping is used).
      :return: The acquisition data as a 32-bit float array, shape (c, y, x).



   .. py:method:: read_slide(slide, raw = False)

      Reads and decodes a slide image as numpy array using the ``imageio``
      package.

      .. note::
          Slide images are stored as binary data within the IMC .mcd file in
          an arbitrary encoding. The ``imageio`` package can decode most
          commonly used image file formats, but may fail for more obscure,
          in which case an ``IOException`` is raised.

      :param slide: the slide to read
      :return: the slide image, or ``None`` if no image is available for the
          specified slide



   .. py:method:: read_panorama(panorama, raw = False)

      Reads and decodes a panorama image as numpy array using the
      ``imageio`` package.

      :param panorama: the panorama to read
      :return: the panorama image as numpy array



   .. py:method:: read_before_ablation_image(acquisition, raw = False)

      Reads and decodes a before-ablation image as numpy array using the
      ``imageio`` package.

      :param acquisition: the acquisition for which to read the
          before-ablation image
      :return: the before-ablation image as numpy array, or ``None`` if no
          before-ablation image is available for the specified acquisition



   .. py:method:: read_after_ablation_image(acquisition, raw = False)

      Reads and decodes a after-ablation image as numpy array using the
      ``imageio`` package.

      :param acquisition: the acquisition for which to read the
          after-ablation image
      :return: the after-ablation image as numpy array, or ``None`` if no
          after-ablation image is available for the specified acquisition



   .. py:property:: path
      :type: pathlib.Path


      Path to the IMC file



